<div class="model-card-content prose md:px-6 md:-mx-6 lg:-mr-20 lg:pr-20 xl:-mr-24 xl:pr-24 2xl:-mr-36 2xl:pr-36 hf-sanitized hf-sanitized-gRrgyt_PTgwOU2xKNTueO">
<!-- HTML_TAG_START --><h1 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#camembert-a-tasty-french-language-model" id="camembert-a-tasty-french-language-model" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		CamemBERT: a Tasty French Language Model
	</span>
</h1>
<h2 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#introduction" id="introduction" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Introduction
	</span>
</h2>
<p><a href="https://arxiv.org/abs/1911.03894" rel="nofollow">CamemBERT</a> is a state-of-the-art language model for French based on the RoBERTa model. </p>
<p>It is now available on Hugging Face in 6 different versions with varying number of parameters, amount of pretraining data and pretraining data source domains. </p>
<p>For further information or requests, please go to <a href="https://camembert-model.fr/" rel="nofollow">Camembert Website</a></p>
<h2 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#pre-trained-models" id="pre-trained-models" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Pre-trained models
	</span>
</h2>
<div class="max-w-full overflow-auto">
<table>
<thead><tr>
<th>Model</th>
<th>#params</th>
<th>Arch.</th>
<th>Training data</th>
</tr>
</thead><tbody><tr>
<td><code>camembert-base</code></td>
<td>110M</td>
<td>Base</td>
<td>OSCAR (138 GB of text)</td>
</tr>
<tr>
<td><code>camembert/camembert-large</code></td>
<td>335M</td>
<td>Large</td>
<td>CCNet (135 GB of text)</td>
</tr>
<tr>
<td><code>camembert/camembert-base-ccnet</code></td>
<td>110M</td>
<td>Base</td>
<td>CCNet (135 GB of text)</td>
</tr>
<tr>
<td><code>camembert/camembert-base-wikipedia-4gb</code></td>
<td>110M</td>
<td>Base</td>
<td>Wikipedia (4 GB of text)</td>
</tr>
<tr>
<td><code>camembert/camembert-base-oscar-4gb</code></td>
<td>110M</td>
<td>Base</td>
<td>Subsample of OSCAR (4 GB of text)</td>
</tr>
<tr>
<td><code>camembert/camembert-base-ccnet-4gb</code></td>
<td>110M</td>
<td>Base</td>
<td>Subsample of CCNet (4 GB of text)</td>
</tr>
</tbody>
</table>
</div>
<h2 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#how-to-use-camembert-with-huggingface" id="how-to-use-camembert-with-huggingface" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		How to use CamemBERT with HuggingFace
	</span>
</h2>
<h5 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#load-camembert-and-its-sub-word-tokenizer-" id="load-camembert-and-its-sub-word-tokenizer-" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Load CamemBERT and its sub-word tokenizer :
	</span>
</h5>
<pre><code class="language-python"><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> CamembertModel, CamembertTokenizer

<span class="hljs-comment"># You can replace "camembert-base" with any other model from the table, e.g. "camembert/camembert-large".</span>
tokenizer = CamembertTokenizer.from_pretrained(<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>)
camembert = CamembertModel.from_pretrained(<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>)

camembert.<span class="hljs-built_in">eval</span>()  <span class="hljs-comment"># disable dropout (or leave in train mode to finetune)</span>
</code></pre>
<h5 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#filling-masks-using-pipeline" id="filling-masks-using-pipeline" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Filling masks using pipeline
	</span>
</h5>
<pre><code class="language-python"><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline 

camembert_fill_mask  = pipeline(<span class="hljs-string">"fill-mask"</span>, model=<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>, tokenizer=<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>)
results = camembert_fill_mask(<span class="hljs-string">"Le camembert est un fromage de &lt;mask&gt;!"</span>)
<span class="hljs-comment"># results</span>
<span class="hljs-comment">#[{'sequence': '&lt;s&gt; Le camembert est un fromage de ch√®vre!&lt;/s&gt;', 'score': 0.4937814474105835, 'token': 19370}, </span>
<span class="hljs-comment">#{'sequence': '&lt;s&gt; Le camembert est un fromage de brebis!&lt;/s&gt;', 'score': 0.06255942583084106, 'token': 30616}, </span>
<span class="hljs-comment">#{'sequence': '&lt;s&gt; Le camembert est un fromage de montagne!&lt;/s&gt;', 'score': 0.04340197145938873, 'token': 2364},</span>
<span class="hljs-comment"># {'sequence': '&lt;s&gt; Le camembert est un fromage de No√´l!&lt;/s&gt;', 'score': 0.02823255956172943, 'token': 3236}, </span>
<span class="hljs-comment">#{'sequence': '&lt;s&gt; Le camembert est un fromage de vache!&lt;/s&gt;', 'score': 0.021357402205467224, 'token': 12329}]</span>
</code></pre>
<h5 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#extract-contextual-embedding-features-from-camembert-output" id="extract-contextual-embedding-features-from-camembert-output" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Extract contextual embedding features from Camembert output
	</span>
</h5>
<pre><code class="language-python"><span class="hljs-keyword">import</span> torch
<span class="hljs-comment"># Tokenize in sub-words with SentencePiece</span>
tokenized_sentence = tokenizer.tokenize(<span class="hljs-string">"J'aime le camembert !"</span>)
<span class="hljs-comment"># ['‚ñÅJ', "'", 'aime', '‚ñÅle', '‚ñÅca', 'member', 't', '‚ñÅ!'] </span>

<span class="hljs-comment"># 1-hot encode and add special starting and end tokens </span>
encoded_sentence = tokenizer.encode(tokenized_sentence)
<span class="hljs-comment"># [5, 221, 10, 10600, 14, 8952, 10540, 75, 1114, 6]</span>
<span class="hljs-comment"># NB: Can be done in one step : tokenize.encode("J'aime le camembert !")</span>

<span class="hljs-comment"># Feed tokens to Camembert as a torch tensor (batch dim 1)</span>
encoded_sentence = torch.tensor(encoded_sentence).unsqueeze(<span class="hljs-number">0</span>)
embeddings, _ = camembert(encoded_sentence)
<span class="hljs-comment"># embeddings.detach()</span>
<span class="hljs-comment"># embeddings.size torch.Size([1, 10, 768])</span>
<span class="hljs-comment">#tensor([[[-0.0928,  0.0506, -0.0094,  ..., -0.2388,  0.1177, -0.1302],</span>
<span class="hljs-comment">#         [ 0.0662,  0.1030, -0.2355,  ..., -0.4224, -0.0574, -0.2802],</span>
<span class="hljs-comment">#         [-0.0729,  0.0547,  0.0192,  ..., -0.1743,  0.0998, -0.2677],</span>
<span class="hljs-comment">#         ...,</span>
</code></pre>
<h5 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#extract-contextual-embedding-features-from-all-camembert-layers" id="extract-contextual-embedding-features-from-all-camembert-layers" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Extract contextual embedding features from all Camembert layers
	</span>
</h5>
<pre><code class="language-python"><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> CamembertConfig
<span class="hljs-comment"># (Need to reload the model with new config)</span>
config = CamembertConfig.from_pretrained(<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>, output_hidden_states=<span class="hljs-literal">True</span>)
camembert = CamembertModel.from_pretrained(<span class="hljs-string">"camembert/camembert-base-wikipedia-4gb"</span>, config=config)

embeddings, _, all_layer_embeddings = camembert(encoded_sentence)
<span class="hljs-comment">#  all_layer_embeddings list of len(all_layer_embeddings) == 13 (input embedding layer + 12 self attention layers)</span>
all_layer_embeddings[<span class="hljs-number">5</span>]
<span class="hljs-comment"># layer 5 contextual embedding : size torch.Size([1, 10, 768])</span>
<span class="hljs-comment">#tensor([[[-0.0059, -0.0227,  0.0065,  ..., -0.0770,  0.0369,  0.0095],</span>
<span class="hljs-comment">#         [ 0.2838, -0.1531, -0.3642,  ..., -0.0027, -0.8502, -0.7914],</span>
<span class="hljs-comment">#         [-0.0073, -0.0338, -0.0011,  ...,  0.0533, -0.0250, -0.0061],</span>
<span class="hljs-comment">#         ...,</span>
</code></pre>
<h2 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#authors" id="authors" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Authors
	</span>
</h2>
<p>CamemBERT was trained and evaluated by Louis Martin*, Benjamin Muller*, Pedro Javier Ortiz Su√°rez*, Yoann Dupont, Laurent Romary, √âric Villemonte de la Clergerie, Djam√© Seddah and Beno√Æt Sagot.</p>
<h2 class="relative group flex items-center">
<a class="block pr-1.5 text-lg md:absolute md:p-1.5 md:opacity-0 md:group-hover:opacity-100 md:right-full" href="#citation" id="citation" rel="nofollow">
<span class="header-link"><svg aria-hidden="true" class="text-gray-500 hover:text-black dark:hover:text-gray-200 w-4" height="1em" preserveaspectratio="xMidYMid meet" role="img" viewbox="0 0 256 256" width="1em" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span>
</a>
<span>
		Citation
	</span>
</h2>
<p>If you use our work, please cite:</p>
<pre><code class="language-bibtex">@inproceedings{martin2020camembert,
  title={CamemBERT: a Tasty French Language Model},
  author={Martin, Louis and Muller, Benjamin and Su{\'a}rez, Pedro Javier Ortiz and Dupont, Yoann and Romary, Laurent and de la Clergerie, {\'E}ric Villemonte and Seddah, Djam{\'e} and Sagot, Beno{\^\i}t},
  booktitle={Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics},
  year={2020}
}
</code></pre>
<!-- HTML_TAG_END --></div>